# Netlify configuration for Purple Music frontend
# Build the Next.js app from the frontend/ folder and publish with the Next.js runtime

[build]
  base    = "frontend"
  command = "npm run build"
  publish = ".next"

# NOTE: Do not set environment variables here as empty strings,
# as it will override values configured in the Netlify UI.
# Set NEXT_PUBLIC_* variables in Netlify → Site settings → Environment variables.

[[plugins]]
  package = "@netlify/plugin-nextjs"

# Security headers (no CSP yet to avoid blocking YouTube IFrame)
[[headers]]
  for = "/*"
  [headers.values]
    X-Frame-Options            = "SAMEORIGIN"
    X-Content-Type-Options     = "nosniff"
    Referrer-Policy            = "strict-origin-when-cross-origin"
    Strict-Transport-Security  = "max-age=31536000; includeSubDomains; preload"
