[build]
base    = "frontend"
command = "npm run build"
publish = ".next"

[build.environment]
	NEXT_PUBLIC_SUPABASE_URL    = ""
	NEXT_PUBLIC_SUPABASE_ANON_KEY = ""
	NEXT_PUBLIC_BACKEND_URL     = ""
	NEXT_PUBLIC_PI_APP_ID       = ""
	NEXT_PUBLIC_FRONTEND_URL    = ""

[[plugins]]
package = "@netlify/plugin-nextjs"

# Security headers (no CSP yet to avoid blocking YouTube IFrame)
[[headers]]
for = "/*"
[headers.values]
X-Frame-Options            = "SAMEORIGIN"
X-Content-Type-Options     = "nosniff"
Referrer-Policy            = "strict-origin-when-cross-origin"
Strict-Transport-Security  = "max-age=31536000; includeSubDomains; preload"
